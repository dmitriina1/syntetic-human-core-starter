# synthetic-human-core-starter

`synthetic-human-core-starter` ‚Äî —ç—Ç–æ **–º–æ–¥—É–ª—å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –Ω–∞ Spring Boot 3**, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–∞—è –¥–ª—è —Å—Ç–∞–Ω–¥–∞—Ä—Ç–∏–∑–∞—Ü–∏–∏ –ø–æ–≤–µ–¥–µ–Ω–∏—è –∞–Ω–¥—Ä–æ–∏–¥–æ–≤ –≤ —Å–∏—Å—Ç–µ–º–∞—Ö Weyland-Yutani.  
–°—Ç–∞—Ä—Ç–µ—Ä –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç **–ø—Ä–∏—ë–º, –≤–∞–ª–∏–¥–∞—Ü–∏—é –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥**, **–∞—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π**, **–º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –Ω–∞–≥—Ä—É–∑–∫–∏** –∏ **–µ–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫**.

---

## –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

### 1. **–ü—Ä–∏—ë–º –∏ –∏—Å–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥**
- –ö–æ–º–∞–Ω–¥—ã –≤–∞–ª–∏–¥–∏—Ä—É—é—Ç—Å—è –ø–æ –æ–ø–∏—Å–∞–Ω–∏—é, –∞–≤—Ç–æ—Ä—É –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã: `CRITICAL` (–∏—Å–ø–æ–ª–Ω—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ), `COMMON` (–¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ –æ—á–µ—Ä–µ–¥—å)
- –û—á–µ—Ä–µ–¥—å —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –Ω–∞ `ThreadPoolExecutor`
- –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ë–º–∫–æ—Å—Ç—å –æ—á–µ—Ä–µ–¥–∏ –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è

### 2. **–ê—É–¥–∏—Ç –¥–µ–π—Å—Ç–≤–∏–π**
- –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—è `@WeylandWatchingYou` –¥–ª—è –∞—É–¥–∏—Ç–∞ –º–µ—Ç–æ–¥–æ–≤
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –¥–≤—É—Ö —Ä–µ–∂–∏–º–æ–≤:
  - –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å
  - –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ Kafka Topic
- –í –∞—É–¥–∏—Ç –≤–∫–ª—é—á–∞–µ—Ç—Å—è: –∏–º—è –º–µ—Ç–æ–¥–∞, –ø–∞—Ä–∞–º–µ—Ç—Ä—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç

### 3. **–ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥**
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –º–µ—Ç—Ä–∏–∫ —á–µ—Ä–µ–∑ **Micrometer** –∏ **Spring Boot Actuator**
- –î–æ—Å—Ç—É–ø–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
  - `android.queue.size` ‚Äî —Ç–µ–∫—É—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –∑–∞–¥–∞—á –≤ –æ—á–µ—Ä–µ–¥–∏
  - `android.queue.capacity` ‚Äî –∑–∞–≥—Ä—É–∂–µ–Ω–Ω–æ—Å—Ç—å –æ—á–µ—Ä–µ–¥–∏
  - `android.commands.completed` ‚Äî –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã—Ö –∫–æ–º–∞–Ω–¥ –ø–æ –∞–≤—Ç–æ—Ä—É

### 4. **–û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**
- –í—Å–µ –æ—à–∏–±–∫–∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—Ç—Å—è –≤ **–µ–¥–∏–Ω–æ–º —Ñ–æ—Ä–º–∞—Ç–µ**
- –ü–æ–¥–¥–µ—Ä–∂–∫–∞:
  - –í–∞–ª–∏–¥–∞—Ü–∏–∏ (`400 Bad Request`)
  - –ü–µ—Ä–µ–ø–æ–ª–Ω–µ–Ω–∏—è –æ—á–µ—Ä–µ–¥–∏ (`503 Service Unavailable`)
  - –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏—Ö –æ—à–∏–±–æ–∫ (`500 Internal Server Error`)

---

## –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Spring Boot 3.5.4** ‚Äî –æ—Å–Ω–æ–≤–∞ —Å—Ç–∞—Ä—Ç–µ—Ä–∞
- **Spring AOP** ‚Äî —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∞—É–¥–∏—Ç–∞ —á–µ—Ä–µ–∑ –∞–Ω–Ω–æ—Ç–∞—Ü–∏—é
- **Kafka** ‚Äî –æ—Ç–ø—Ä–∞–≤–∫–∞ –∞—É–¥–∏—Ç-–ª–æ–≥–æ–≤ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- **ThreadPoolExecutor** ‚Äî —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –æ—á–µ—Ä–µ–¥—å—é –∫–æ–º–∞–Ω–¥
- **Micrometer + Actuator** ‚Äî —Å–±–æ—Ä –∏ —ç–∫—Å–ø–æ—Ä—Ç –º–µ—Ç—Ä–∏–∫
- **Spring Validation** ‚Äî –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
- **Lombok** ‚Äî —É–º–µ–Ω—å—à–µ–Ω–∏–µ boilerplate-–∫–æ–¥–∞

---

## üõ† –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ —Å—Ç–∞—Ä—Ç–µ—Ä –≤ –ª–æ–∫–∞–ª—å–Ω—ã–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π

```bash
git clone https://github.com/dmitriina1/syntetic-human-core-starter.git
cd syntetic-human-core-starter
./mvnw clean install
```

### 2. –î–æ–±–∞–≤—å—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –≤ —Å–≤–æ—ë –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (pom.xml)

```
<dependency>
    <groupId>ru.starter</groupId>
    <artifactId>synthetic-human-core-starter</artifactId>
    <version>0.0.1-SNAPSHOT</version>
</dependency>
```

### 3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –≤ application.properties –∏–ª–∏ application.yml

```
# –†–µ–∂–∏–º –∞—É–¥–∏—Ç–∞: console –∏–ª–∏ kafka
starter.synthetichumancorestarter.audit-mode=console
# Kafka topic (–µ—Å–ª–∏ audit-mode=kafka)
starter.synthetichumancorestarter.kafka-topic=android-audit
# –ú–∞–∫—Å–∏–º–∞–ª—å–Ω–∞—è —ë–º–∫–æ—Å—Ç—å –æ—á–µ—Ä–µ–¥–∏
starter.synthetichumancorestarter.queue-capacity=100
```

### 4. –°–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –∏ –∏—Å–ø–æ–ª—å–∑—É–π CommandExecutorService

```
@RestController
@RequiredArgsConstructor
public class AndroidController {

    private final CommandExecutorService executor;

    @PostMapping("/command")
    @WeylandWatchingYou
    public String receiveCommand(@RequestBody @Valid Command command) {
        executor.submit(command);
        return "Command accepted";
    }
}
```

### 5. –≠–Ω–¥–ø–æ–∏–Ω—Ç—ã
- GET /actuator/metrics ‚Äî —Å–ø–∏—Å–æ–∫ –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫
- GET /actuator/metrics/android.queue.size ‚Äî —Ç–µ–∫—É—â–∏–π —Ä–∞–∑–º–µ—Ä –æ—á–µ—Ä–µ–¥–∏
- GET /actuator/metrics/android.commands.completed?tag=author:Ripley ‚Äî –≤—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã –ø–æ –∞–≤—Ç–æ—Ä—É
